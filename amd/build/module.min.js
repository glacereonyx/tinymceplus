define("editor_tinymceplus/module",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init_editor=void 0;
/**
   * Functions used to initialize the TinyMCE Plus editor
   *
   * @copyright 2022 Ben Mitchell
   * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
var tinymce=window.tinymce,YUI=window.YUI,inputUpdateBlacklist=["mceFocus","mceWordCount","mceMedia","mceLink","mceCodeEditor","SelectAll"];function sync_textarea(editor){if(editor){var target=editor.getElement();target.textContent=editor.getContent(),target.dispatchEvent(new Event("input",{bubbles:!0}))}}_exports.init_editor=function(options,foptions){var _document$querySelect,initheight=null===(_document$querySelect=document.querySelector(options.selector))||void 0===_document$querySelect?void 0:_document$querySelect.offsetHeight;options.min_height=initheight||200,options.min_height+=25,options.height=options.min_height,1==options.enable_filemanagement&&(null!==foptions?(options.file_picker_callback=file_picker_callback,options.file_picker_types="image"):console.warn('enable_filemanagement is true, however no "fileoptions" have been provided to the texteditor.')),options.setup=function(editor){editor.fileOptions=foptions,editor.on("input",(function(e){sync_textarea(editor)})),editor.on("ExecCommand",(function(e){-1==inputUpdateBlacklist.indexOf(e.command)&&(console.log("The ".concat(e.command," command was fired.")),sync_textarea(editor))})),editor.on("SetContent",(function(e){editor.getElement().textContent!=editor.getContent()&&sync_textarea(editor)}))},options.hidden_input=!1,tinymce.init(options)};var file_picker_callback=function(callback,value,meta){var fileOptions=tinymce.activeEditor.fileOptions;YUI().use("core_filepicker",(function(Y){var options=null;"image"==meta.filetype?options=fileOptions.image:"file"==meta.filetype?options=fileOptions.file:"media"==meta.filetype&&(options=fileOptions.media),options.formcallback=function(fileInfo){console.log(fileInfo),callback(fileInfo.url)},M.core_filepicker.show(Y,options)}))}}));

//# sourceMappingURL=module.min.js.map